<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨éƒ¨å•†å“</title>
    
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bytesized&family=Faustina:ital,wght@0,300..800;1,300..800&family=LXGW+WenKai+TC&family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="icon" type="image/png" href="./image/logoweb.png">
  <link rel="shortcut icon" href="./image/logoweb.png">

</head>
<body>
  <!-- Header -->
<header>
  <div class="header-top">
    <a href="index.html" class="logo-link">
      <div class="logo">
       <img src="image/logo.png" alt="Logo">
        <div class="brand-name">
          <p class="main-title">å’¬ä¸€åœˆ</p>
          <p class="sub-title">è²æœç”œç”œåœˆå°ˆè³£åº—</p>
        </div>
      </div>
     </a>

  <div class="icons">
    <a href="member.html">
      <img src="image/member.png" alt="æœƒå“¡" class="icon" />
    </a>
    <a href="cart.html">
      <img src="image/cart.png" alt="è³¼ç‰©è»Š" class="icon" />
    </a>
    <a href="#" id="search-icon">
      <img src="image/search.png" alt="æœå°‹" class="icon" />
    </a>
    <input type="text" id="search-input" placeholder="æœå°‹..." class="search-box" style="display:none;" />
  </div>
</div>



  <!-- å°è¦½åˆ— -->
<nav>
  <ul class="nav-links">
    <li class="dropdown">
      <a href="#">æœƒå“¡è³‡è¨Š</a>
      <ul class="submenu">
        <li><a href="login.html">æœƒå“¡ç™»å…¥/è¨»å†Š</a></li>
        <li><a href="member.html">æœƒå“¡ä¸­å¿ƒ</a></li>
        <li><a href="favorite.html">æˆ‘çš„æœ€æ„›</a></li>
      </ul>
    </li>
    <li><a href="communication.html">è¯çµ¡æˆ‘å€‘</a></li>

    <li class="dropdown">
      <a href="#">é—œæ–¼</a>
      <ul class="submenu">
        <li><a href="about_us.html">é—œæ–¼æˆ‘å€‘</a></li>
        <li><a href="team.html">å‰µè¾¦äºº</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#">å¸¸è¦‹å•é¡Œ</a>
      <ul class="submenu">
        <li><a href="shopping_guide.html">è³¼ç‰©é ˆçŸ¥</a></li>
        <li><a href="order_qa.html">è¨‚å–® Q&A</a></li>
        <li><a href="storage_heating.html">å•†å“ä¿å­˜èˆ‡åŠ ç†±æ–¹å¼</a></li>
      </ul>
    </li>
    <li class="dropdown">
      <a href="#">å•†å“åˆ—è¡¨</a>
      <ul class="submenu">
        <li><a href="products.html?category=all">å…¨éƒ¨å•†å“</a></li>
        <li><a href="products.html?category=bagel">è²æœ</a></li>
        <li><a href="products.html?category=donut">ç”œç”œåœˆ</a></li>
        <li><a href="products.html?category=gift">ç¦®ç›’</a></li>
      </ul>
    </li>
  </ul>
</nav>
</header>

  <div class="content-container"> 
    <main class="product-page">
      <h1>å•†å“åˆ†é¡</h1>
      <div class="category-buttons">
        <button data-category="å…¨éƒ¨" onclick="renderCategoryUI(this)">å…¨éƒ¨</button>
        <button data-category="bagel" onclick="renderCategoryUI(this)">è²æœ</button>
        <button data-category="donut" onclick="renderCategoryUI(this)">ç”œç”œåœˆ</button>
        <button data-category="gift" onclick="renderCategoryUI(this)">ç¦®ç›’</button>
      </div>
      <div class="product-list" id="product-list"></div> <!-- âœ… åªä¿ç•™ä¸€å€‹ -->
    </main>
  </div>
  <!-- Footer -->
<footer class="site-footer">
  <div class="footer-container">

    <!-- å€å¡Š 1ï¼šé—œæ–¼æˆ‘å€‘ -->
    <div class="footer-section">
      <h3>é—œæ–¼æˆ‘å€‘</h3>
      <ul>
        <li><a href="privacy_page.html">éš±ç§æ¬Šæ”¿ç­–</a></li>
        <li><a href="return_policy.html">é€€æ›è²¨æ”¿ç­–</a></li>
        <li><a href="locations.html">å·¥ä½œå®¤æ“šé»</a></li>
      </ul>
    </div>

    <!-- å€å¡Š 2ï¼šæœƒå“¡æœå‹™ -->
    <div class="footer-section">
      <h3>æœƒå“¡æœå‹™</h3>
      <ul>
        <li><a href="shopping_guide.html">è³¼ç‰©é ˆçŸ¥</a></li>
        <li><a href="order_qa.html">è¨‚å–® Q&A</a></li>
        <li><a href="storage_heating.html">å•†å“ä¿å­˜&åŠ ç†±æ–¹å¼</a></li>
      </ul>
    </div>

    <!-- å€å¡Š 3ï¼šè¯çµ¡æ–¹å¼ -->
    <div class="footer-section">
      <h3>è¯çµ¡æ–¹å¼</h3>
      <ul>
        <li>å®¢æœå°ˆç·š | <a href="tel:0800-000-123">0800-000-123</a></li>
        <li>å®¢æœä¿¡ç®± | <a href="yaoyiquan.bagel@gmail.com">yaoyiquan.bagel@gmail.com</a></li>
        <li>å®¢æœ | <a href="https://line.me/R/ti/p/lineå¸³è™Ÿ" target="_blank">å’¬ä¸€åœˆå®˜æ–¹Line</a></li>
        <li>å®¢æœæ™‚é–“ | é€±ä¸€è‡³é€±äº” 10:00 - 18:00</li>
      </ul>
    </div>
  </div>

  <!-- å€å¡Š 4ï¼šç‰ˆæ¬Šè²æ˜ -->
  <div class="footer-bottom">
    <p> å’¬ä¸€åœˆ &copy; 2025 All Right Reserved.</p>
  </div>
</footer>

<script>
  const products = [
    {
      id: 101,
      name: "è—è“é›ªé…ªæ¸›é†£è²æœ",
      price: 80,
      image: "image/bagel01.png",
      category: "bagel"
    },
    {
      id: 102,
      name: "é‡ä¹³é…ªèµ·å¸æ¸›é†£è²æœ",
      price: 85,
      image: "image/bagel02.png",
      category: "bagel"
    },
    {
      id: 103,
      name: "è—è“å„ªæ ¼ä¸æ¸›é†£è²æœ",
      price: 80,
      image: "image/bagel03.png",
      category: "bagel"
    },
    {
      id: 104,
      name: "æ±æ–¹ç¾äººèŒ¶èŠ±ç”Ÿæ¸›é†£è²æœ",
      price: 75,
      image: "image/bagel04.png",
      category: "bagel"
    },
    {
      id: 105,
      name: "ç«ç‘°æ´›ç¥ä¹³é…ªæ¸›é†£è²æœ",
      price: 90,
      image: "image/bagel05.png",
      category: "bagel"
    },
    {
      id: 106,
      name: "å¥¶æ²¹é¦™è’œæ¸›é†£è²æœ",
      price: 75,
      image: "image/bagel06.png",
      category: "bagel"
    },
    {
      id: 107,
      name: "æŠ¹èŒ¶ç´…è±†ä¹³é…ªæ¸›é†£è²æœ",
      price: 85,
      image: "image/bagel07.png",
      category: "bagel"
    },
    {
      id: 108,
      name: "ç´«å¿ƒåœ°ç“œæ¸›é†£è²æœ",
      price: 85,
      image: "image/bagel08.jpg",
      category: "bagel"
    },
    {
      id: 109,
      name: "èœœé¦™ç„¡èŠ±æœä¹³é…ªæ¸›é†£è²æœ",
      price: 90,
      image: "image/bagel09.jpg",
      category: "bagel"
    },
    {
      id: 110,
      name: "æµ·é¹½ç„¦ç³–ä¹³é…ªæ¸›é†£è²æœ",
      price: 90,
      image: "image/bagel10.jpg",
      category: "bagel"
    },
    {
      id: 111,
      name: "ç¹½ç´›è‰è“ç”œç”œåœˆ",
      price: 55,
      image: "image/donut01.png",
      category: "donut"
    },
    {
      id: 112,
      name: "æª¸æª¬ç”œæ˜Ÿ",
      price: 60,
      image: "image/donut02.png",
      category: "donut"
    },
    {
      id: 113,
      name: "æä»ç™½å·§å…‹åŠ›ç”œç”œåœˆ",
      price: 50,
      image: "image/donut03.png",
      category: "donut"
    },
    {
      id: 114,
      name: "æŠ¹èŒ¶ç”œç”œåœˆ",
      price: 45,
      image: "image/donut04.png",
      category: "donut"
    },
    {
      id: 115,
      name: "ç™¾é¦™æœæ´¾å°",
      price: 60,
      image: "image/donut05.jpg",
      category: "donut"
    },
    {
      id: 116,
      name: "å¯å¯é¤…ä¹¾ç”œç”œåœˆ",
      price: 55,
      image: "image/donut06.jpg",
      category: "donut"
    },
    {
      id: 117,
      name: "å·§å…‹åŠ›å¤¾å¿ƒç”œç”œåœˆ",
      price: 50,
      image: "image/donut07.jpg",
      category: "donut"
    },
    {
      id: 118,
      name: "èŠ±ç”Ÿç³–éœœç”œç”œåœˆ",
      price: 50,
      image: "image/donut08.jpg",
      category: "donut"
    },
    {
      id: 119,
      name: "è‰è“ç³–éœœç”œç”œåœˆ",
      price: 50,
      image: "image/donut09.jpg",
      category: "donut"
    },
    {
      id: 120,
      name: "è‘¡è„é¦™æª³æµªèŠ±",
      price: 60,
      image: "image/donut10.jpg",
      category: "donut"
    },
    {
      id: 121,
      name: "åŸå‘³ç³–éœœç”œç”œåœˆ6å…¥",
      price: 220,
      image: "image/gift01.png",
      category: "gift"
    },
    {
      id: 122,
      name: "ç¶œåˆç”œç”œåœˆ6å…¥",
      price: "260èµ·",
      image: "image/gift02.png",
      category: "gift"
    },
    {
      id: 123,
      name: "åŸå‘³ç³–éœœç”œç”œåœˆ12å…¥",
      price: 400,
      image: "image/gift03.png",
      category: "gift"
    },
    {
      id: 124,
      name: "ç¶œåˆç”œç”œåœˆ12å…¥",
      price: "460èµ·",
      image: "image/gift04.png",
      category: "gift"
    },
  ];

  function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    const existing = cart.find(item => item.id === productId);
    if (existing) {
      existing.quantity += 1;
    } else {
      cart.push({ ...product, quantity: 1 });
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    alert(`å·²åŠ å…¥è³¼ç‰©è»Šï¼š${product.name}`);
  }

  function renderCategory(categoryName) {
    const container = document.getElementById("product-list");
    const filtered = categoryName === "å…¨éƒ¨"
      ? products
      : products.filter(p => p.category === categoryName);

    container.innerHTML = filtered.map(p => `
      <div class="product-card">
        <a href="shop.html?id=${p.id}">
          <div class="product-image-wrapper">
            <img src="${p.image}" alt="${p.name}">
          </div>
          <h3>${p.name}</h3>
          <p>NT$ ${p.price}</p>
        </a>
        <button class="add-to-cart-btn" data-id="${p.id}">åŠ å…¥è³¼ç‰©è»Š</button>
      </div>
    `).join('');

    document.querySelectorAll(".add-to-cart-btn").forEach(btn => {
      btn.addEventListener("click", (e) => {
        const id = parseInt(e.target.getAttribute("data-id"));
        addToCart(id);
      });
    });
  }

  function renderCategoryUI(button) {
    const categoryName = button.getAttribute("data-category");

    document.querySelectorAll('.category-buttons button').forEach(btn => {
      btn.classList.remove('active');
    });
    button.classList.add('active');

    renderCategory(categoryName);
  }

  document.addEventListener("DOMContentLoaded", () => {
    const urlParams = new URLSearchParams(window.location.search);
    const rawCategory = urlParams.get("category");
    console.log("ç¶²å€å¸¶å…¥ category =", rawCategory);
    const categoryFromUrl = rawCategory ? decodeURIComponent(rawCategory) : "å…¨éƒ¨";

    const button = document.querySelector(`.category-buttons button[data-category="${categoryFromUrl}"]`);
    if (button) {
      button.click();
    } else {
      renderCategory("å…¨éƒ¨");
    }
  });

    // === ğŸ” æœå°‹åŠŸèƒ½ ===
document.getElementById("search-icon").addEventListener("click", function () {
  const searchInput = document.getElementById("search-input");
  if (searchInput.style.display === "none" || searchInput.style.display === "") {
    searchInput.style.display = "block";
    searchInput.focus();
  } else {
    searchInput.style.display = "none";
  }
});
</script>

</body>
</html>